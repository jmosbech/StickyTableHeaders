!function(a,b){"use strict";function c(c,f){var g=this;g.$el=a(c),g.el=c,g.$el.bind("destroyed",a.proxy(g.teardown,g)),g.$window=a(b),g.$clonedHeader=null,g.$originalHeader=null,g.isSticky=!1,g.leftOffset=null,g.topOffset=null,g.init=function(){g.options=a.extend({},e,f),g.$el.each(function(){var b=a(this);b.css("padding",0),g.$originalHeader=a("thead:first",this),g.$clonedHeader=g.$originalHeader.clone(),g.$clonedHeader.addClass("tableFloatingHeader"),g.$clonedHeader.css("display","none"),g.$originalHeader.addClass("tableFloatingHeaderOriginal"),g.$originalHeader.after(g.$clonedHeader),g.$printStyle=a('<style type="text/css" media="print">.tableFloatingHeader{display:none !important;}.tableFloatingHeaderOriginal{position:static !important;}</style>'),a("head").append(g.$printStyle)}),g.updateWidth(),g.toggleHeaders(),g.bind()},g.destroy=function(){g.$el.unbind("destroyed",g.teardown),g.teardown()},g.teardown=function(){g.isSticky&&g.$originalHeader.css("position","static"),a.removeData(g.el,"plugin_"+d),g.unbind(),g.$clonedHeader.remove(),g.$originalHeader.removeClass("tableFloatingHeaderOriginal"),g.$originalHeader.css("visibility","visible"),g.$printStyle.remove(),g.el=null,g.$el=null},g.bind=function(){g.$window.on("scroll."+d,g.toggleHeaders),g.$window.on("resize."+d,g.toggleHeaders),g.$window.on("resize."+d,g.updateWidth)},g.unbind=function(){g.$window.off("."+d,g.toggleHeaders),g.$window.off("."+d,g.updateWidth),g.$el.off("."+d),g.$el.find("*").off("."+d)},g.toggleHeaders=function(){g.$el.each(function(){var b=a(this),c=isNaN(g.options.fixedOffset)?g.options.fixedOffset.height():g.options.fixedOffset,d=b.offset(),e=g.$window.scrollTop()+c,f=g.$window.scrollLeft();if(e>d.top&&e<d.top+b.height()-g.$clonedHeader.height()){var h=d.left-f;if(g.isSticky&&h===g.leftOffset&&c===g.topOffset)return;g.$originalHeader.css({position:"fixed",top:c,"margin-top":0,left:h,"z-index":1}),g.$clonedHeader.css("display",""),g.isSticky=!0,g.leftOffset=h,g.topOffset=c,g.updateWidth()}else g.isSticky&&(g.$originalHeader.css("position","static"),g.$clonedHeader.css("display","none"),g.isSticky=!1)})},g.updateWidth=function(){if(g.isSticky){var b=a("th,td",g.$originalHeader),c=a("th,td",g.$clonedHeader);g.cellWidths=[],g.getWidth(c),g.setWidth(c,b),g.$originalHeader.css("width",g.$clonedHeader.width())}},g.getWidth=function(b){b.each(function(b){var c,d=a(this);c="border-box"===d.css("box-sizing")?d.outerWidth():d.width(),g.cellWidths[b]=c})},g.setWidth=function(a,b){a.each(function(a){var c=g.cellWidths[a];b.eq(a).css({"min-width":c,"max-width":c})})},g.updateOptions=function(b){g.options=a.extend({},e,b),g.updateWidth(),g.toggleHeaders()},g.init()}var d="stickyTableHeaders",e={fixedOffset:0};a.fn[d]=function(b){return this.each(function(){var e=a.data(this,"plugin_"+d);e?"string"==typeof b?e[b].apply(e):e.updateOptions(b):"destroy"!==b&&a.data(this,"plugin_"+d,new c(this,b))})}}(jQuery,window);